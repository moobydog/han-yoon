# 🧪 Spanner 프로젝트 테스트 가이드

## 📋 사전 준비사항

### 1. 환경 변수 설정
프로젝트 루트에 `.env.local` 파일 생성:
```bash
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
NODE_ENV=development
```

### 2. Supabase 프로젝트 설정
1. [Supabase](https://supabase.com)에서 새 프로젝트 생성
2. `supabase-schema.sql` 파일의 내용을 SQL Editor에서 실행
3. API 키와 URL을 `.env.local`에 설정

## 🚀 테스트 실행

### 1단계: 개발 서버 실행
```bash
pnpm install
pnpm dev
```

### 2단계: 브라우저 테스트
http://localhost:3000 접속

## 🧪 기능별 테스트 시나리오

### A. 로그인 테스트

#### 테스트 케이스 1: 기존 가족 로그인
- **가족코드**: `FAMILY2025`
- **이름**: `민수` 또는 `영희`
- **예상 결과**: 메인 페이지로 이동, 기존 데이터 표시

#### 테스트 케이스 2: 새 가족 생성
- **가족코드**: `NEWFAMILY2025`
- **이름**: `철수`
- **예상 결과**: 새 가족 생성 후 메인 페이지로 이동

#### 테스트 케이스 3: 기존 가족에 새 멤버 추가
- **가족코드**: `FAMILY2025`
- **이름**: `영희` (이미 존재하는 가족코드)
- **예상 결과**: 기존 가족에 새 멤버 추가

### B. 지출 입력 테스트

#### 테스트 케이스 4: 기본 지출 입력
- **금액**: `15000`
- **카테고리**: `식비 - 외식`
- **메모**: `점심 식사`
- **예상 결과**: 지출이 저장되고 목록에 표시

#### 테스트 케이스 5: 다양한 카테고리 테스트
- **교통비**: `8000`, `교통비 - 대중교통`, `지하철 요금`
- **쇼핑**: `25000`, `쇼핑 - 마트`, `장보기`
- **카페**: `5000`, `카페 - 커피`, `아메리카노`

#### 테스트 케이스 6: 경계값 테스트
- **최소 금액**: `1`
- **큰 금액**: `999999`
- **빈 메모**: 메모 없이 저장
- **특수문자**: `!@#$%^&*()` 포함된 메모

### C. 정기지출 테스트

#### 테스트 케이스 7: 정기지출 등록
- **금액**: `50000`
- **카테고리**: `주거비 - 월세/관리비`
- **메모**: `월세`
- **매월 반영일**: `1` (매월 1일)
- **예상 결과**: 정기지출이 등록되고 목록에 표시

#### 테스트 케이스 8: 정기지출 수정
- **수정 항목**: 금액을 `60000`으로 변경
- **예상 결과**: 정기지출 정보가 업데이트됨

#### 테스트 케이스 9: 정기지출 삭제
- **동작**: 등록된 정기지출 삭제
- **예상 결과**: 정기지출이 목록에서 제거됨

### D. 데이터 조회 테스트

#### 테스트 케이스 10: 지출 내역 조회
- **동작**: 지출 내역 페이지 접속
- **예상 결과**: 모든 지출 내역이 날짜순으로 표시

#### 테스트 케이스 11: 정기지출 조회
- **동작**: 정기지출 페이지 접속
- **예상 결과**: 등록된 정기지출 목록 표시

### E. 네비게이션 테스트

#### 테스트 케이스 12: 메뉴 이동
- **홈**: 메인 페이지로 이동
- **지출 내역**: 지출 내역 페이지로 이동
- **정기지출**: 정기지출 관리 페이지로 이동
- **로그아웃**: 로그인 페이지로 이동

## 🔍 오류 테스트 시나리오

### A. 입력 유효성 검사

#### 테스트 케이스 13: 잘못된 입력값
- **빈 가족코드**: 가족코드 없이 로그인 시도
- **빈 이름**: 이름 없이 로그인 시도
- **음수 금액**: `-1000` 입력 시도
- **0원**: `0` 입력 시도
- **빈 카테고리**: 카테고리 선택 없이 저장 시도

#### 테스트 케이스 14: 특수문자 입력
- **SQL 인젝션**: `'; DROP TABLE spending; --`
- **XSS**: `<script>alert('test')</script>`
- **긴 텍스트**: 1000자 이상의 긴 메모

### B. 네트워크 오류 시뮬레이션

#### 테스트 케이스 15: 오프라인 상태
- **동작**: 네트워크 연결 해제 후 기능 테스트
- **예상 결과**: 적절한 오류 메시지 표시

#### 테스트 케이스 16: 느린 네트워크
- **동작**: 네트워크 속도 제한 후 기능 테스트
- **예상 결과**: 로딩 상태 표시 및 타임아웃 처리

## 📊 성능 테스트

### A. 데이터 부하 테스트

#### 테스트 케이스 17: 대량 데이터
- **동작**: 1000개 이상의 지출 데이터 생성
- **예상 결과**: 페이지 로딩 시간이 3초 이내

#### 테스트 케이스 18: 메모리 사용량
- **동작**: 장시간 사용 후 메모리 사용량 확인
- **예상 결과**: 메모리 누수 없음

## 🎯 테스트 체크리스트

### 기본 기능
- [ ] 로그인/로그아웃
- [ ] 가족 생성/참여
- [ ] 지출 입력/수정/삭제
- [ ] 정기지출 관리
- [ ] 데이터 조회

### 사용자 경험
- [ ] 반응형 디자인
- [ ] 로딩 상태 표시
- [ ] 오류 메시지 표시
- [ ] 성공 피드백

### 데이터 무결성
- [ ] 입력값 유효성 검사
- [ ] 데이터 저장/조회 정확성
- [ ] 외래키 제약조건 준수

## 🚨 문제 해결

### 일반적인 오류들

#### 1. "Supabase client not found"
- `.env.local` 파일 확인
- 환경 변수 이름 확인
- 서버 재시작

#### 2. "Table doesn't exist"
- `supabase-schema.sql` 실행 확인
- Supabase 대시보드에서 테이블 존재 여부 확인

#### 3. "Permission denied"
- RLS 정책 확인
- Supabase 대시보드 → Authentication → Policies 확인

#### 4. 개발 서버 실행 오류
- Node.js 버전 확인 (18+ 필요)
- `pnpm install` 재실행
- `node_modules` 삭제 후 재설치

## 📱 모바일 테스트

### A. 반응형 디자인
- **화면 크기**: 320px ~ 1920px
- **방향**: 세로/가로 모드
- **터치**: 터치 제스처 및 탭 동작

### B. 브라우저 호환성
- **Chrome**: 최신 버전
- **Firefox**: 최신 버전
- **Safari**: 최신 버전
- **Edge**: 최신 버전

## 🚀 배포 테스트

### A. Vercel 배포
1. GitHub 저장소와 연결
2. 환경 변수 설정
3. 자동 배포 활성화
4. 프로덕션 환경에서 기능 테스트

### B. 환경 변수 (프로덕션)
```bash
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
NODE_ENV=production
```

## 📞 지원 및 문의

문제가 발생하면:
1. 이 가이드의 문제 해결 섹션 확인
2. 브라우저 개발자 도구 → Console 확인
3. Supabase 대시보드 → Logs 확인
4. GitHub Issues에 문제 보고
